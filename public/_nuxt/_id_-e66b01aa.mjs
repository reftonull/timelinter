var C=Object.defineProperty,D=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var m=(a,t,e)=>t in a?C(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,f=(a,t)=>{for(var e in t||(t={}))V.call(t,e)&&m(a,e,t[e]);if(_)for(var e of _(t))A.call(t,e)&&m(a,e,t[e]);return a},y=(a,t)=>D(a,S(t));import{_ as I,x as k,b,y as P,o as T,c as N,d as h,t as j,m as z,V as O,j as R}from"./entry-90740ebb.mjs";import{v}from"./v4-5ff0568a.mjs";const q={async setup(a,{expose:t}){var p;t();let e,n;const i=k(),r=b(),c=i.params.id,d=([e,n]=P(()=>r.getPersonById(c)),e=await e,n(),e),s=d.availability.map(o=>({id:v(),start:new Date(o.startTime),end:new Date(o.endTime)})),E=(p=d.name)!=null?p:"An error occured";function g(o){s.push(y(f({},o),{id:v()}))}function x(o){const l=s.findIndex(B=>B.id===o.event.id);console.log(l),l!==-1&&(s[l]=o.event)}function w(){console.log(s),r.updateAvail(c,s),R("/people")}const u={route:i,peopleStore:r,personId:c,person:d,events:s,name:E,createEvent:g,updateEvent:x,save:w,usePeopleStore:b,VueCal:O,uuid:v};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},F={class:"container"};function G(a,t,e,n,i,r){return T(),N("div",F,[h("h1",null,"Availability for "+j(n.name),1),z(n.VueCal,{class:"cal vuecal--blue-theme",time:!0,"disable-views":["years","year","month","day"],"hide-view-selector":"","hide-title-bar":"","editable-events":{title:!1,drag:!0,resize:!0,delete:!0,create:!0},events:n.events,"snap-to-time":15,"time-from":6*60,"time-to":23*60,"time-step":30,"selected-date":"2022-08-01",onEventDragCreate:n.createEvent,onEventDrop:n.updateEvent,onEventDurationChange:n.updateEvent},null,8,["events"]),h("div",{onClick:n.save,class:"fancyBtn saveBtn"},"Save")])}var L=I(q,[["render",G],["__scopeId","data-v-67db18b3"]]);export{L as default};
